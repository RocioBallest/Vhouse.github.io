<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VapeHouse A&C</title>

  <link rel="icon" type="image/png" href="img/favicon.png">
  <link rel="stylesheet" href="style.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">

  <style>
    .hidden { display: none; }
    .section-active { animation: fadeIn 0.3s ease-in-out; }
    @keyframes fadeIn { from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);} }

    .product-page { padding: 40px 0; }
    .product-view-content { display: flex; gap: 40px; align-items: flex-start; }
    .product-images { width: 50%; }
    .pv-main-img { width: 100%; border-radius: 10px; }
    .pv-thumbs { margin-top: 10px; display: flex; gap: 10px; }
    .pv-thumb { width: 22%; border-radius: 8px; cursor: pointer; transition: .2s; }
    .pv-thumb:hover { transform: scale(1.05); }
    .product-info-box { width: 40%; }

    /* ‚úÖ NE√ìN PARA LINKS DE REDES */
    .social-link {
      color: #00eaff;
      text-shadow: 0 0 6px #00eaff, 0 0 12px #00eaff, 0 0 22px #00eaff;
      font-weight: bold;
      transition: 0.3s;
    }
    .social-link:hover {
      color: #8b00ff;
      text-shadow: 0 0 6px #8b00ff, 0 0 12px #8b00ff, 0 0 22px #8b00ff;
    }
  </style>
</head>

<body>

<header class="header">
  <div class="container nav-wrapper">
    <div class="logo-box">
      <img src="icono.jpeg" class="logo-img">
      <span class="logo-text">VapeHouse A&C</span>
    </div>

    <nav class="nav">
      <a href="#" data-section="productos">Productos</a>
      <a href="#" data-section="nosotros">Nosotros</a>
      <a href="#" data-section="contacto">Contacto</a>
    </nav>

    <button id="cartBtn" class="cart-btn">üõí <span id="cartCount">0</span></button>
  </div>
</header>

<section id="hero" class="hero">
  <div class="container hero-content">
    <h1>Bienvenidos a <br><span>VapeHouse A&C</span></h1>
    <p>Explora nuestros Vapes Exclusivos</p>
    <a href="#productos" class="btn-main">Explorar</a>
  </div>
</section>

<section id="productos" class="container products-section">
  <h2 class="title">Productos Destacados</h2>
  <div id="productGrid" class="product-grid"></div>
</section>

<section id="nosotros" class="container about hidden">
  <h2 class="title">Sobre Nosotros</h2>
  <p>En VapeHouse A&C somos apasionados por ofrecerte los mejores vapes y accesorios originales del mercado. Nos enfocamos en brindarte
calidad, variedad y precios accesibles, para que disfrutes al m√°ximo cada puff.
Nos destacamos por:
Productos 100% originales y de marcas
reconocidas.
Amplia variedad en sabores, modelos y estilos.
Atenci√≥n r√°pida y personalizada.
Envios a todo el pa√≠s, con opci√≥n de pago
contra entrega.
En VapeHouse A&C, combinamos calidad, estilo y confianza en cada producto.</p>
<div class="about-image">
  <div class="neon-frame" id="aboutNeonFrame">
    <img src="icono.jpeg" class="neon-img" alt="Nosotros VapeHouse">
  </div>
</div>

</div>


</section>

<section id="contacto" class="container contact-section hidden">
  <h2 class="title">Cont√°ctanos</h2>
  <ul>
    <li>
      Instagram:
      <a href="https://www.instagram.com/vapehouse_gt"
         class="social-link" target="_blank">@vapehouse_gt</a>
    </li>
    <li>
      TikTok:
      <a href="https://www.tiktok.com/@vapehousegt"
         class="social-link" target="_blank">@vapehouse_gt</a>
    </li>
  </ul>
</section>

<!-- ‚úÖ VISTA DE PRODUCTO -->
<section id="productView" class="container hidden product-page">
  <button id="backToProducts" class="btn-main" style="margin-bottom:20px;">‚¨Ö Regresar</button>

  <div class="product-view-content">

    <div class="product-images">
      <img id="pv-main-img" class="pv-main-img">

      <div class="pv-thumbs">
        <img id="pv-thumb-1" class="pv-thumb">
        <img id="pv-thumb-2" class="pv-thumb">
      </div>
    </div>

    <div class="product-info-box">
      <h2 id="pv-title"></h2>
      <h3 id="pv-price"></h3>

      <div class="qty-controls">
        <button id="pv-minus">‚àí</button>
        <span id="pv-qty">1</span>
        <button id="pv-plus">+</button>
      </div>

      <button id="pv-addToCart" class="btn-main" style="width:100%; margin-top:10px;">
        Agregar al carrito
      </button>

      <div id="pv-description" style="margin-top:20px;"></div>
    </div>

  </div>
</section>

<!-- ‚úÖ CARRITO -->
<div id="cartModal" class="cart-modal">
  <div class="cart-panel">

    <div class="cart-header">
      <h3>Tu Carrito</h3>
      <button id="closeCart">‚úñ</button>
    </div>

    <div id="cartItems" class="cart-items"></div>

    <div class="cart-footer">
      <strong>Subtotal:</strong>
      <span id="cartSubtotal">Q0.00</span>
      <button id="checkoutBtn" class="btn-main">Pagar</button>
    </div>

  </div>
</div>

<!-- ‚úÖ SCRIPT COMPLETO -->
<script>

  /* ‚úÖ SPA */
  const hero = document.getElementById("hero");
  const sections = {
    productos: document.getElementById("productos"),
    nosotros: document.getElementById("nosotros"),
    contacto: document.getElementById("contacto"),
    productView: document.getElementById("productView")
  };

  document.querySelectorAll(".nav a").forEach(link => {
    link.addEventListener("click", (e) => {
      e.preventDefault();
      const sec = link.dataset.section;

      Object.values(sections).forEach(s => s.classList.add("hidden"));
      hero.style.display = sec === "productos" ? "block" : "none";
      sections[sec].classList.remove("hidden");
    });
  });

  /* ‚úÖ Productos con 2 im√°genes */
  const products = [
    { 
      id: "p1",
      title: "Vape Lightrise TB ‚Äì 18K Puffs",
      price: 225,
      images: [
        "https://static.wixstatic.com/media/9e446f_1e1024c87f694ef4bc69bf21a552beae~mv2.jpg",
        "https://static.wixstatic.com/media/9e446f_ebda5c1a96c6433fb78c7eac72d95b9c~mv2.jpg"
      ]
    },
    { 
      id: "p2",
      title: "ENERCNI 18K PUFFS",
      price: 250,
      images: [
        "https://static.wixstatic.com/media/9e446f_c88ead0e1dbc4f51baee12339e0cf87b~mv2.jpg",
        "https://static.wixstatic.com/media/9e446f_6985007ebc644ddfb78db3edeb36f612~mv2.jpg"
      ]
    }
  ];

  let cart = JSON.parse(localStorage.getItem("cart_fs")) || [];
  const productGrid = document.getElementById("productGrid");

  /* ‚úÖ Notificaci√≥n IG cuando agregan producto */
  function notifyOwner(product, quantity) {
    const msg = encodeURIComponent(`Hola, quiero realizar un pedido.\n\nProducto: ${product}\nCantidad: ${quantity}`);
    window.open(`https://www.instagram.com/vapehouse_gt`, "_blank");
  }

  /* ‚úÖ Render productos */
  function renderProducts() {
    productGrid.innerHTML = "";

    products.forEach(p => {
      const card = document.createElement("div");
      card.classList.add("product-card");

      card.innerHTML = `
        <img src="${p.images[0]}" class="product-img" data-id="${p.id}">
        <h3 class="title open-product" data-id="${p.id}">${p.title}</h3>
        <span class="price">Q${p.price}</span>
        <button class="btn-add" data-id="${p.id}">Agregar</button>
      `;

      card.querySelector(".product-img").onclick = () => openProductView(p.id);
      card.querySelector(".title").onclick = () => openProductView(p.id);

      card.querySelector(".btn-add").onclick = () => {
        addToCart(p.id);
        notifyOwner(p.title, 1);
      };

      productGrid.appendChild(card);
    });
  }

  renderProducts();

  /* ‚úÖ Vista individual */
  let currentProduct = null;

  function openProductView(id) {
    currentProduct = products.find(p => p.id === id);

    hero.style.display = "none";
    sections.productos.classList.add("hidden");
    sections.nosotros.classList.add("hidden");
    sections.contacto.classList.add("hidden");
    sections.productView.classList.remove("hidden");

    document.getElementById("pv-main-img").src = currentProduct.images[0];
    document.getElementById("pv-thumb-1").src = currentProduct.images[0];
    document.getElementById("pv-thumb-2").src = currentProduct.images[1];

    document.getElementById("pv-title").textContent = currentProduct.title;
    document.getElementById("pv-price").textContent = "Q" + currentProduct.price;
    document.getElementById("pv-qty").textContent = 1;

    if (currentProduct.id === "p1") {
      document.getElementById("pv-description").innerHTML = `
        <h3>‚≠ê Puntos destacados:</h3>
        <ul style="margin-top:10px; line-height:22px;">
          <li>‚Ä¢ üîã Duraci√≥n extrema: hasta 18,000 puffs.</li>
          <li>‚Ä¢ üí° Pantalla digital.</li>
          <li>‚Ä¢ üöÄ Modo Boost.</li>
          <li>‚Ä¢ üíß Resistente al agua.</li>
          <li>‚Ä¢ üé® Dise√±o met√°lico premium.</li>
        </ul>
      `;
    } else {
      document.getElementById("pv-description").innerHTML = `
        <h3>Caracter√≠sticas principales:</h3>
        <ul style="margin-top:10px; line-height:22px;">
          <li>‚Ä¢ üí® Hasta 18,000 puff.</li>
          <li>‚Ä¢ üîã Bater√≠a USB-C.</li>
          <li>‚Ä¢ üåà Pantalla LED.</li>
          <li>‚Ä¢ üîí Dise√±o resistente.</li>
        </ul>
      `;
    }
  }

  /* ‚úÖ Miniaturas */
  document.getElementById("pv-thumb-1").onclick =
  document.getElementById("pv-thumb-2").onclick = function() {
    document.getElementById("pv-main-img").src = this.src;
  };

  /* ‚úÖ Cantidad */
  document.getElementById("pv-plus").onclick = () => {
    let q = parseInt(document.getElementById("pv-qty").textContent);
    document.getElementById("pv-qty").textContent = q + 1;
  };

  document.getElementById("pv-minus").onclick = () => {
    let q = parseInt(document.getElementById("pv-qty").textContent);
    if (q > 1) document.getElementById("pv-qty").textContent = q - 1;
  };

  /* ‚úÖ Add carrito desde vista */
  document.getElementById("pv-addToCart").onclick = () => {
    const qty = parseInt(document.getElementById("pv-qty").textContent);
    const item = cart.find(i => i.id === currentProduct.id);

    if (item) item.qty += qty;
    else cart.push({ ...currentProduct, qty });

    updateCart();

    notifyOwner(currentProduct.title, qty);

    openCart();
  };

  /* ‚úÖ Regresar */
  document.getElementById("backToProducts").onclick = () => {
    sections.productView.classList.add("hidden");
    sections.productos.classList.remove("hidden");
    hero.style.display = "block";
  };

  /* ‚úÖ Carrito */
  function addToCart(id) {
    const p = products.find(x => x.id === id);
    const item = cart.find(x => x.id === id);

    if (item) item.qty++;
    else cart.push({ ...p, qty: 1 });

    updateCart();
  }

  function updateCart() {
    localStorage.setItem("cart_fs", JSON.stringify(cart));
    document.getElementById("cartCount").textContent =
      cart.reduce((a, b) => a + b.qty, 0);
    renderCartItems();
  }

  function renderCartItems() {
    const box = document.getElementById("cartItems");
    box.innerHTML = "";

    if (cart.length === 0) {
      box.innerHTML = "<p>Carrito vac√≠o</p>";
      document.getElementById("cartSubtotal").textContent = "Q0.00";
      return;
    }

    cart.forEach(i => {
      const row = document.createElement("div");
      row.classList.add("cart-row");

      row.innerHTML = `
        <span>${i.title}</span>

        <div class="qty-controls">
          <button class="qty-btn" data-id="${i.id}" data-action="minus">‚àí</button>
          <span>${i.qty}</span>
          <button class="qty-btn" data-id="${i.id}" data-action="plus">+</button>
        </div>

        <strong>Q${i.qty * i.price}</strong>
        <button class="delete-item" data-id="${i.id}">‚ùå</button>
      `;

      box.appendChild(row);
    });

    const subtotal = cart.reduce((s, i) => s + i.qty * i.price, 0);
    document.getElementById("cartSubtotal").textContent = "Q" + subtotal;
  }

  /* ‚úÖ Botones carrito */
  document.getElementById("cartItems").addEventListener("click", (e) => {

    if (e.target.classList.contains("qty-btn")) {
      const id = e.target.dataset.id;
      const action = e.target.dataset.action;
      const item = cart.find(i => i.id === id);

      if (action === "plus") item.qty++;
      if (action === "minus" && item.qty > 1) item.qty--;

      updateCart();
    }

    if (e.target.classList.contains("delete-item")) {
      const id = e.target.dataset.id;
      cart = cart.filter(i => i.id !== id);
      updateCart();
    }
  });

  /* ‚úÖ PAGAR: Enviar a Instagram con mensaje */
  document.getElementById("checkoutBtn").onclick = () => {
    const msg = encodeURIComponent("Hola, quiero realizar un pedido.");
    window.open(`https://www.instagram.com/vapehouse_gt`, "_blank");
  };
   /* ---- Inicializar animaci√≥n: 3s al entrar, luego se detiene; hover la reproduce 3s ---- */
(function() {
  const frame = document.getElementById("aboutNeonFrame");
  if (!frame) return;

  // Funci√≥n para activar la animaci√≥n (agrega la clase .animate)
  function playAnimOnce() {
    // quitar cualquier rastro anterior
    frame.classList.remove("removing-animation");
    // forzar reflow para permitir reinicio si ya estaba
    void frame.offsetWidth;
    frame.classList.add("animate");

    // cuando termine la animaci√≥n, quitamos la clase para que quede quieto
    const onAnimEnd = (e) => {
      // solo cuando terminen las dos animaciones (consideramos el evento de la primera)
      frame.classList.remove("animate");
      frame.classList.add("removing-animation"); // asegura que no quede animaci√≥n
      frame.removeEventListener("animationend", onAnimEnd);
    };

    frame.addEventListener("animationend", onAnimEnd);
  }

  // Cuando el elemento entra en pantalla, reproducir 1 vez
  const io = new IntersectionObserver((entries, obs) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        playAnimOnce();
        obs.unobserve(frame);
      }
    });
  }, { threshold: 0.2 });
  io.observe(frame);

  // Hover: reproducir animaci√≥n 3s cuando el mouse entre
  let hoverTimeout = null;
  frame.addEventListener("mouseenter", () => {
    // si ya est√° en medio de animaci√≥n, reiniciamos
    frame.classList.remove("removing-animation");
    void frame.offsetWidth;
    frame.classList.add("animate");

    // aseguramos que se pare despu√©s de 3s (por si animationend no llega)
    if (hoverTimeout) clearTimeout(hoverTimeout);
    hoverTimeout = setTimeout(() => {
      frame.classList.remove("animate");
      frame.classList.add("removing-animation");
    }, 3000);
  });

  // limpiar timeout al salir
  frame.addEventListener("mouseleave", () => {
    if (hoverTimeout) {
      clearTimeout(hoverTimeout);
      hoverTimeout = null;
    }
    // no forzamos detenci√≥n inmediata; la animaci√≥n seguir√° hasta 3s y luego se quita por animationend
  });
})();

  /* ‚úÖ Abrir & cerrar carrito */
  function openCart() {
    document.getElementById("cartModal").classList.add("show");
  }
  function closeCart() {
    document.getElementById("cartModal").classList.remove("show");
  }

  document.getElementById("cartBtn").onclick = openCart;
  document.getElementById("closeCart").onclick = closeCart;

  updateCart();

</script>

</body>
</html>
